<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/aframe-event-set-component@2.0.2/dist/aframe-event-set-component.min.js"></script>
</head>

<body>
  <a-scene
    mindar-image="imageTargetSrc: https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.2/examples/image-tracking/assets/card-example/card.mind;"
    color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false">
    <a-assets>
      <img id="card"
        src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.2/examples/image-tracking/assets/card-example/card.png" />
      <a-asset-item id="avatarModel"
        src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.2/examples/image-tracking/assets/card-example/softmind/scene.gltf"></a-asset-item>
      <audio id="sound" src="./sounds/start.mp3"></audio>
    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;"
      raycaster="far: ${customFields.libVersion}; objects: .clickable"></a-camera>

    <a-entity mindar-image-target="targetIndex: 0" id="myEntity">
      <a-plane id="interactiveEntity" class="clickable" src="#card" position="0 0 0" height="0.552" width="1"
        rotation="0 0 0" class="clickable"></a-plane>
      <a-gltf-model rotation="0 0 0" position="0 0 0.1" scale="0.005 0.005 0.005" src="#avatarModel"
        animation="property: position; to: 0 0.1 0.1; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
        class="clickable"></a-gltf-model>
    </a-entity>
  </a-scene>

  <script>
    // detect click event
    const examplePlane = document.querySelector('#example-plane');
    examplePlane.addEventListener("click", event => {
      console.log("plane click");
    });

    // const interactiveEntity = document.querySelector("#interactiveEntity");
    // const sound = document.querySelector("#sound");
    // const questionContainer = document.createElement("div");
    // questionContainer.setAttribute("id", "questionContainer");
    // questionContainer.innerHTML =
    //   '<form id="questionForm">\
    //     <p>Choose the correct answer:</p>\
    //     <input type="radio" name="answer" value="option1"> Option 1<br>\
    //     <input type="radio" name="answer" value="option2"> Option 2<br>\
    //     <input type="radio" name="answer" value="option3"> Option 3<br>\
    //     <input type="radio" name="answer" value="option4"> Option 4<br>\
    //     <input type="submit" value="Submit">\
    //   </form>';
    // const qrCodeContainer = document.createElement("div");
    // qrCodeContainer.setAttribute("id", "qrCodeContainer");
    // qrCodeContainer.innerHTML =
    //   '<img src="./redeemCode/redeem.png" alt="QR Code">';

    // interactiveEntity.addEventListener("click", function () {
    //   interactiveEntity.setAttribute("visible", false);
    //   sound.play();
    //   document.body.appendChild(questionContainer);
    // });

    // document.addEventListener("submit", function (event) {
    //   event.preventDefault();
    //   const selectedAnswer = document.querySelector(
    //     'input[name="answer"]:checked'
    //   ).value;
    //   if (selectedAnswer === "option1") {
    //     questionContainer.remove();
    //     document.body.appendChild(qrCodeContainer);
    //   } else {
    //     // Handle incorrect answer behavior if needed
    //   }
    // });
  </script>
</body>

</html>